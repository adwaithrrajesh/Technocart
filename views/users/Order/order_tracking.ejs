<%- include('../layouts/layout') -%>
  <div class="body-wrapper">
    <%- include('../partials/shop_header') -%>
      <!-- MOBILE MENU START -->
      <div class="mobile-header-menu-fullwidth mb-30 d-block d-lg-none">
        <div class="container">
          <div class="row">
            <div class="col-lg-12">
              <!-- Mobile Menu Button -->
              <div class="mobile-menu-toggle d-lg-none">
                <span>MENU</span>
                <a href="#ltn__utilize-mobile-menu" class="ltn__utilize-toggle">
                  <svg viewBox="0 0 800 600">
                    <path d="M300,220 C300,220 520,220 540,220 C740,220 640,540 520,420 C440,340 300,200 300,200"
                      id="top"></path>
                    <path d="M300,320 L540,320" id="middle"></path>
                    <path d="M300,210 C300,210 520,210 540,210 C740,210 640,530 520,410 C440,330 300,190 300,190"
                      id="bottom" transform="translate(480, 320) scale(1, -1) translate(-480, -318) "></path>
                  </svg>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- MOBILE MENU END -->

      <!-- Utilize Cart Menu Start -->

      <!-- Utilize Cart Menu End -->
      <%- include('../partials/shop_cart_menu') -%>

        <!-- Utilize Mobile Menu Start -->
        <%- include('../partials/mobile_menu') -%>

          <div class="ltn__utilize-overlay"></div>

          <!-- BREADCRUMB AREA START -->
          <div class="ltn__breadcrumb-area text-left bg-overlay-white-30 bg-image" data-bs-bg="img/bg/14.jpg">
            <div class="container">
              <div class="row">
                <div class="col-lg-12">
                  <div class="ltn__breadcrumb-inner">
                    <h1 class="page-title">Order Status</h1>
                    <div class="ltn__breadcrumb-list">
                      <ul>
                        <li>
                          <a href="/"><span class="ltn__secondary-color"><i class="fas fa-home"></i></span>
                            Home</a>
                        </li>
                        <li>Track Order</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="contain">
            <% if (Order.OrderStatus=='Order Cancelled') { %>
              <h1>Order Cancelled</h1>
               <%} else { %>
            <section class="root">
              <figure>
                    <figcaption>
                      <h4>OrderID : <%=Order._id%>
                      </h4>
                      <h2>Total :â‚¹<%=Order.Total%>
                      </h2>
                    </figcaption>
                <%}%>
              </figure>
              <% if (Order.OrderStatus=='Order Confirmed' ) { %>
                <div class="order-track">
                  <div class="order-track-step">
                    <div class="order-track-status">
                      <span class="order-track-status-dot"></span>
                    </div>
                    <div class="order-track-text">
                      <p class="order-track-text-stat">Order Received</p>
                    </div>
                  </div>
                  <div class="order-track-step">
                    <div class="order-track-status">
                    </div>
                    <div class="order-track-text">
                      <p class="order-track-text-stat">Order Processed</p>
                    </div>
                  </div>
                  <div class="order-track-step">
                    <div class="order-track-status">

                    </div>
                    <div class="order-track-text">
                      <p class="order-track-text-stat">Shipped</p>
                    </div>
                  </div>
                  <div class="order-track-step">
                    <div class="order-track-status">

                    </div>
                    <div class="order-track-text">
                      <p class="order-track-text-stat">Out of Delivery</p>
                    </div>
                  </div>
                  <div class="order-track-step">
                    <div class="order-track-status">
                    </div>
                    <div class="order-track-text">
                      <p class="order-track-text-stat">Order Delivered</p>
                    </div>
                  </div>
                  <div class="order-track-step">
                    <div class="order-track-text">
                      <button onclick="CancelOrder('<%=Order._id%>')" class="btn theme-btn-2 btn-effect-2">
                        Cancel Order
                      </button>
                    </div>
                  </div>
                </div>
                <%}%>

                  <% if (Order.OrderStatus=='Order Processed' ) { %>
                    <div class="order-track">
                      <div class="order-track-step">
                        <div class="order-track-status">
                          <span class="order-track-status-dot"></span>
                          <span class="order-track-status-line"></span>
                        </div>
                        <div class="order-track-text">
                          <p class="order-track-text-stat">Order Received</p>
                        </div>
                      </div>
                      <div class="order-track-step">
                        <div class="order-track-status">
                          <span class="order-track-status-dot"></span>
                        </div>
                        <div class="order-track-text">
                          <p class="order-track-text-stat">Order Processed</p>
                        </div>
                      </div>
                      <div class="order-track-step">
                        <div class="order-track-status">

                        </div>
                        <div class="order-track-text">
                          <p class="order-track-text-stat">Shipped</p>
                        </div>
                      </div>
                      <div class="order-track-step">
                        <div class="order-track-status">

                        </div>
                        <div class="order-track-text">
                          <p class="order-track-text-stat">Out of Delivery</p>
                        </div>
                      </div>
                      <div class="order-track-step">
                        <div class="order-track-status">
                        </div>
                        <div class="order-track-text">
                          <p class="order-track-text-stat">Order Delivered</p>
                        </div>
                      </div>
                      <div class="order-track-step">
                        <div class="order-track-text">
                          <button onclick="CancelOrder('<%=Order._id%>')" class="btn theme-btn-2 btn-effect-2">
                            Cancel Order
                          </button>
                        </div>
                      </div>
                    </div>
                    <%}%>

                      <% if (Order.OrderStatus=='Shipped' ) { %>
                        <div class="order-track">
                          <div class="order-track-step">
                            <div class="order-track-status">
                              <span class="order-track-status-dot"></span>
                              <span class="order-track-status-line"></span>
                            </div>
                            <div class="order-track-text">
                              <p class="order-track-text-stat">Order Received</p>
                            </div>
                          </div>
                          <div class="order-track-step">
                            <div class="order-track-status">
                              <span class="order-track-status-dot"></span>
                              <span class="order-track-status-line"></span>
                            </div>
                            <div class="order-track-text">
                              <p class="order-track-text-stat">Order Processed</p>
                            </div>
                          </div>
                          <div class="order-track-step">
                            <div class="order-track-status">
                              <span class="order-track-status-dot"></span>
                            </div>
                            <div class="order-track-text">
                              <p class="order-track-text-stat">Shipped</p>

                            </div>
                          </div>
                          <div class="order-track-step">
                            <div class="order-track-text">
                              <p class="order-track-text-stat">Out of Delivery</p>
                            </div>
                          </div>
                          <div class="order-track-step">
                            <div class="order-track-text">
                              <p class="order-track-text-stat">Order Delivered</p>
                            </div>
                          </div>
                        </div>
                        <br>
                        <button onclick="CancelOrder('<%=Order._id%>')" class="btn theme-btn-2 btn-effect-2">
                          Cancel Order
                        </button>
                        <%}%>


                          <% if (Order.OrderStatus=='Out of delivery' ) { %>
                            <div class="order-track">
                              <div class="order-track-step">
                                <div class="order-track-status">
                                  <span class="order-track-status-dot"></span>
                                  <span class="order-track-status-line"></span>
                                </div>
                                <div class="order-track-text">
                                  <p class="order-track-text-stat">Order Received</p>
                                </div>
                              </div>
                              <div class="order-track-step">
                                <div class="order-track-status">
                                  <span class="order-track-status-dot"></span>
                                  <span class="order-track-status-line"></span>
                                </div>
                                <div class="order-track-text">
                                  <p class="order-track-text-stat">Order Processed</p>
                                </div>
                              </div>
                              <div class="order-track-step">
                                <div class="order-track-status">
                                  <span class="order-track-status-dot"></span>
                                  <span class="order-track-status-line"></span>
                                </div>
                                <div class="order-track-text">
                                  <p class="order-track-text-stat">Shipped</p>
                                </div>
                              </div>
                              <div class="order-track-step">
                                <div class="order-track-status">
                                  <span class="order-track-status-dot"></span>
                                </div>
                                <div class="order-track-text">
                                  <p class="order-track-text-stat">Out of Delivery</p>
                                </div>
                              </div>
                              <div class="order-track-step">
                                <div class="order-track-status">
                                </div>
                                <div class="order-track-text">
                                  <p class="order-track-text-stat">Order Delivered</p>
                                </div>
                              </div>
                              <div class="order-track-step">
                                <div class="order-track-text">
                                  <button onclick="CancelOrder('<%=Order._id%>')" class="btn theme-btn-2 btn-effect-2">
                                    Cancel Order
                                  </button>
                                </div>
                              </div>
                            </div>
                            <%}%>

                              <% if (Order.OrderStatus=='Delivered' ) { %>
                                <div class="order-track">
                                  <div class="order-track-step">
                                    <div class="order-track-status">
                                      <span class="order-track-status-dot"></span>
                                      <span class="order-track-status-line"></span>
                                    </div>
                                    <div class="order-track-text">
                                      <p class="order-track-text-stat">Order Received</p>
                                    </div>
                                  </div>
                                  <div class="order-track-step">
                                    <div class="order-track-status">
                                      <span class="order-track-status-dot"></span>
                                      <span class="order-track-status-line"></span>
                                    </div>
                                    <div class="order-track-text">
                                      <p class="order-track-text-stat">Order Processed</p>
                                    </div>
                                  </div>
                                  <div class="order-track-step">
                                    <div class="order-track-status">
                                      <span class="order-track-status-dot"></span>
                                      <span class="order-track-status-line"></span>
                                    </div>
                                    <div class="order-track-text">
                                      <p class="order-track-text-stat">Shipped</p>
                                    </div>
                                  </div>
                                  <div class="order-track-step">
                                    <div class="order-track-status">
                                      <span class="order-track-status-dot"></span>
                                      <span class="order-track-status-line"></span>
                                    </div>
                                    <div class="order-track-text">
                                      <p class="order-track-text-stat">Out of delivery</p>
                                    </div>
                                  </div>
                                  <div class="order-track-step">
                                    <div class="order-track-status">
                                      <span class="order-track-status-dot"></span>
                                      <span class="order-track-status-line"></span>
                                    </div>
                                    <div class="order-track-text">
                                      <p class="order-track-text-stat">Order Delivered</p>
                                    </div>
                                  </div>
                                </div>
                              <%}%>
            </section>
          </div>

          <script>
            function CancelOrder(OrderId) {
              Swal.fire({
        title: "Cancel Order",
        text: "Are You sure want to Cancel this Order",
        icon: "warning",
        showCancelButton: true,
        confirmButtonColor: "#3085d6",
        cancelButtonColor: "#d33",
        confirmButtonText: "Yes, delete it!",
         }).then((result) => {
        if (result.isConfirmed) {
          Swal.fire("Cancelled!", "Your Order has been Cancelled.", "success").then(
            (res) => {
              $.ajax({
                url: "/cancel_order",
                data: {
                  OrderId
                },
                method: "post",
                success: (response) => {
                  location.reload();
                },
              });
            })
          }
        })
      }
          </script>







          <style>
            @import url('https://fonts.googleapis.com/css?family=Montserrat:300,400,500,600&display=swap');

            *,
            *::after,
            *::before {
              padding: 0;
              margin: 0;
              box-sizing: border-box;
            }

            /* html {
              font-size: 62.5%;
            } */

            .contain {
              color: #2c3e50;
              font-family: 'Montserrat', sans-serif;
              width: 30rem;
              font-weight: 300;
              min-height: 80vh;
              position: relative;
              display: block;
              margin: 2rem auto;
            }

            h2,
            h4,
            h6 {
              margin: 0;
              padding: 0;
              display: inline-block;
            }

            .root {
              padding: 3rem 1.5rem;
              border-radius: 5px;
              box-shadow: 0 2rem 6rem rgba(0, 0, 0, 0.3);
            }

            figure {
              display: flex;
            }

            figure img {
              width: 8rem;
              height: 8rem;
              border-radius: 50%;
              border: 1px solid #2f8250;
              margin-right: 1.5rem;
            }

            figure figcaption {
              display: flex;
              flex-direction: column;
              justify-content: space-evenly;
            }

            figure figcaption h4 {
              font-size: 1.4rem;
              font-weight: 500;
            }

            figure figcaption h6 {
              font-size: 1rem;
              font-weight: 300;
            }

            figure figcaption h2 {
              font-size: 1.6rem;
              font-weight: 500;
            }

            .order-track {
              margin-top: 2rem;
              padding: 0 1rem;
              border-top: 1px dashed #2c3e50;
              padding-top: 2.5rem;
              display: flex;
              flex-direction: column;
            }

            .order-track-step {
              display: flex;
              height: 7rem;
            }

            .order-track-step:last-child {
              overflow: hidden;
              height: 4rem;
            }

            .order-track-step:last-child .order-track-status span:last-of-type {
              display: none;
            }

            .order-track-status {
              margin-right: 1.5rem;
              position: relative;
            }

            .order-track-status-dot {
              display: block;
              width: 2.2rem;
              height: 2.2rem;
              border-radius: 50%;
              background: #2f8250;
            }

            .order-track-status-line {
              display: block;
              margin: 0 auto;
              width: 2px;
              height: 7rem;
              background: #2f8250;
            }

            .order-track-text-stat {
              font-size: 1.3rem;
              font-weight: 500;
              margin-bottom: 3px;
            }

            .order-track-text-sub {
              font-size: 1rem;
              font-weight: 300;
            }

            .order-track {
              transition: all 0.3s height 0.3s;
              transform-origin: top center;
            }
          </style>